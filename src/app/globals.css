@import "tailwindcss";
@import "../styles/theme.css";

@custom-variant dark (&:where(.dark, .dark *));

@theme inline {
  /* --- Colors (exposed to Tailwind utilities) --- */
  --color-midnight: var(--color-midnight);
  --color-navy: var(--color-navy);
  --color-slate: var(--color-slate);
  --color-muted: var(--color-muted);
  --color-cloud: var(--color-cloud);
  --color-snow: var(--color-snow);
  --color-gold: var(--color-gold);
  --color-gold-hover: var(--color-gold-hover);
  --color-gold-active: var(--color-gold-active);
  --color-amber: var(--color-amber);
  --color-teal: var(--color-teal);
  --color-teal-hover: var(--color-teal-hover);
  --color-teal-light: var(--color-teal-light);

  /* --- Status colors --- */
  --color-success: var(--color-success);
  --color-success-bg: var(--color-success-bg);
  --color-info: var(--color-info);
  --color-info-bg: var(--color-info-bg);
  --color-warning: var(--color-warning);
  --color-warning-bg: var(--color-warning-bg);
  --color-destructive: var(--color-destructive);
  --color-destructive-bg: var(--color-destructive-bg);

  /* --- Semantic colors --- */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-background-secondary: var(--background-secondary);
  --color-foreground-muted: var(--foreground-muted);
  --color-border: var(--border);
  --color-ring: var(--ring);

  /* --- Fonts --- */
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-jetbrains-mono), ui-monospace, monospace;

  /* --- Animations --- */
  --animate-accordion-down: accordion-down 200ms ease-out;
  --animate-accordion-up: accordion-up 200ms ease-out;
  --animate-fade-in: fade-in 600ms ease-out both;
  --animate-fade-in-up: fade-in-up 600ms ease-out both;
  --animate-fade-in-down: fade-in-down 400ms ease-out both;
  --animate-scale-in: scale-in 400ms ease-out both;
  --animate-slide-in-left: slide-in-left 500ms ease-out both;
  --animate-slide-in-right: slide-in-right 500ms ease-out both;
}

body {
  background: var(--background);
  color: var(--foreground);
}

@keyframes accordion-down {
  from { height: 0; }
  to { height: var(--radix-accordion-content-height); }
}

@keyframes accordion-up {
  from { height: var(--radix-accordion-content-height); }
  to { height: 0; }
}

/* --- Entrance animations (GPU-accelerated: transform + opacity only) --- */

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-down {
  from { opacity: 0; transform: translateY(-12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slide-in-left {
  from { opacity: 0; transform: translateX(-24px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slide-in-right {
  from { opacity: 0; transform: translateX(24px); }
  to { opacity: 1; transform: translateX(0); }
}

/* --- Skeleton loading pulse --- */

@keyframes skeleton-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* --- View Transitions (cross-page navigation) --- */

::view-transition-old(root) {
  animation: vt-fade-out 200ms ease-out;
}

::view-transition-new(root) {
  animation: vt-fade-in 300ms ease-in 100ms both;
}

@keyframes vt-fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes vt-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* --- Respect user preferences --- */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none !important;
  }
}
